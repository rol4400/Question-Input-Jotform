!function(){function n(){var n=JFCustomWidget.getWidgetSettings(),i=document.getElementById("autosizeText");function u(){var t=i.value;return{valid:0!==t.length,value:t}}function a(){JFCustomWidget.requestFrameResize({height:document.getElementById("autosizeText").clientHeight+10})}this.init=function(t){var e="maxInput"in n?Number(n.maxInput):-1;t&&t.value&&(i.value=t.value);(function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent("on"+e,function(){n.call(t)})})(i,"keyup",function(){var t=i.value;0<=e&&t.length>e&&(t=t.substr(0,e),i.value=t),autosize.update(i),JFCustomWidget.sendData(u()),a()}),autosize(i),a()},this.getData=u,this.resizeIframe=a,this.resetData=function(){i.value="",JFCustomWidget.sendData(u())}}(function(t){if(document.readyState!="loading")t();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",t);else document.attachEvent("onreadystatechange",function(){if(document.readyState!="loading")t()})})(function(){JFCustomWidget.subscribe("ready",function(t){var e=new n;e.init(t),JFCustomWidget.subscribe("submit",function(){JFCustomWidget.sendSubmit(e.getData())}),JFCustomWidget.subscribe("clear",function(){e.resetData()}),JFCustomWidget.subscribe("show",function(){e.resizeIframe()}),JFCustomWidget.subscribe("customfont:active",function(){e.resizeIframe()}),JFCustomWidget.subscribe("cardform:widgetcss:active",function(){"executeUntil"in JFCustomWidgetUtils&&JFCustomWidgetUtils.executeUntil(3e3,function(){e.resizeIframe()})})})})}();